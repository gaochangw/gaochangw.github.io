---
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasEducation = siteConfig.education && siteConfig.education.length > 0;
const hasHonors = siteConfig.honors && siteConfig.honors.length > 0;
const hasPublications =
  siteConfig.publications && siteConfig.publications.length > 0;
const hasService = siteConfig.service && siteConfig.service.length > 0;
const contactEntries = siteConfig.contact ?? [];
---

<footer class="relative bg-gray-50 border-t border-gray-200">
  <div class="mx-auto max-w-6xl px-6 py-12 lg:px-8">
    <div
      class="flex flex-col md:flex-row md:items-center md:justify-between gap-8"
    >
      <div class="flex flex-col gap-4">
        <h3 class="text-2xl font-bold text-gray-800">
          {siteConfig.name}
        </h3>
        <p class="text-base text-gray-600">
          {siteConfig.title}
        </p>
        {
          contactEntries.length > 0 && (
            <ul class="space-y-2 text-sm text-gray-600">
              {contactEntries.map((item) => {
                const Tag = item.url ? "a" : "div";
                const linkProps = item.url
                  ? {
                      href: item.url,
                      target: item.url.startsWith("http") ? "_blank" : undefined,
                      rel: item.url.startsWith("http")
                        ? "noopener noreferrer"
                        : undefined,
                    }
                  : {};
                return (
                  <li>
                    <Tag
                      {...linkProps}
                      class={`flex flex-wrap items-center gap-1 transition-colors duration-200 ${
                        item.url ? "hover:text-gray-900" : ""
                      }`}
                    >
                      <span class="font-medium text-gray-500">
                        {item.label}:
                      </span>
                      <span class="text-gray-700">{item.value}</span>
                    </Tag>
                  </li>
                );
              })}
            </ul>
          )
        }
      </div>

      <div class="hidden md:block flex flex-col md:items-end gap-4">
        <nav class="flex gap-x-8">
          <a
            href="#about"
            class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
            >About</a
          >
          {
            hasProjects && (
              <a
                href="#projects"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Projects
              </a>
            )
          }
          {
            hasHonors && (
              <a
                href="#honors"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Honors
              </a>
            )
          }
          {
            hasPublications && (
              <a
                href="#publications"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Publications
              </a>
            )
          }
          {
            hasExperience && (
              <a
                href="#experience"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Experience
              </a>
            )
          }
          {
            hasEducation && (
              <a
                href="#education"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Education
              </a>
            )
          }
          {
            hasService && (
              <a
                href="#service"
                class="text-sm text-gray-600 hover:text-gray-800 transition-colors"
              >
                Service
              </a>
            )
          }
        </nav>
        <p class="text-sm text-gray-500">
          Â© {new Date().getFullYear()}
          {siteConfig.name}. All rights reserved.
        </p>
      </div>
    </div>
  </div>

  <!-- Decorative pattern -->
  <div class="absolute inset-0 -z-10 overflow-hidden">
    <svg
      aria-hidden="true"
      class="absolute bottom-0 left-0 w-full h-24 text-gray-100"
    >
      <pattern
        id="footer-pattern"
        x="0"
        y="0"
        width="100"
        height="100"
        patternUnits="userSpaceOnUse"
      >
        <path
          d="M0 50 Q 25 40, 50 50 T 100 50"
          stroke="currentColor"
          stroke-width="0.5"
          fill="none"
          opacity="0.4"></path>
      </pattern>
      <rect width="100%" height="100%" fill="url(#footer-pattern)"></rect>
    </svg>
  </div>
</footer>
